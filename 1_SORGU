SELECT DEPARTMENT_ID, LAST_NAME, SALARY, DEPARTMENT_MAX 
FROM ( 
SELECT DEPARTMENT_ID, LAST_NAME, SALARY,
MAX(SALARY) OVER (PARTITION BY DEPARTMENT_ID) AS DEPARTMENT_MAX
FROM HR.EMPLOYEES
ORDER BY DEPARTMENT_ID, LAST_NAME, SALARY)
WHERE SALARY=DEPARTMENT_MAX
